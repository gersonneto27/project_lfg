{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_v_form, {\n    onSubmit: _withModifiers($options.submitForm, [\"prevent\"])\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_container, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.name,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n          rules: _ctx.nameRules,\n          counter: 10,\n          label: \"Nome Completo\",\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.birth_date,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.birth_date = $event),\n          rules: _ctx.dateRules,\n          counter: 10,\n          label: \"Data de Nascimento\",\n          required: \"\",\n          type: _ctx.date\n        }, null, 8 /* PROPS */, [\"modelValue\", \"rules\", \"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, null, {\n          default: _withCtx(() => [_createTextVNode(\" v-model='proposal_value' :rules='valueRules' label='Valor da Proposta' required \")]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, {\n        cols: \"12\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_text_field, {\n          modelValue: $data.document,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.document = $event),\n          rules: _ctx.valueRules,\n          label: \"Documento de Indetidade\",\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n        _: 1 /* STABLE */\n      }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.proposalConfigFields, field => {\n        return _openBlock(), _createBlock(_component_v_col, {\n          key: field.id,\n          cols: \"12\",\n          md: \"4\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_text_field, {\n            modelValue: $data.form[field.name].value,\n            \"onUpdate:modelValue\": $event => $data.form[field.name].value = $event,\n            label: field.name,\n            type: $options.fieldType(field.field_type),\n            outlined: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"label\", \"type\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */);\n      }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_v_btn, {\n        density: \"default\",\n        cols: \"12\",\n        md: \"4\",\n        type: \"submit\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Submit\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onSubmit\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_v_form","onSubmit","_withModifiers","$options","submitForm","_component_v_container","_component_v_col","cols","md","_component_v_text_field","$data","name","$event","rules","_ctx","nameRules","counter","label","required","birth_date","dateRules","type","date","document","valueRules","_Fragment","_renderList","proposalConfigFields","field","_createBlock","key","id","form","value","fieldType","field_type","outlined","_component_v_btn","density"],"sources":["/var/project_lfg/frontend/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div>\n    <v-form @submit.prevent=\"submitForm\">\n      <v-container>\n        <v-col cols=\"12\" md=\"4\">\n          <v-text-field\n            v-model=\"name\"\n            :rules='nameRules' \n            :counter='10' \n            label='Nome Completo'\n            required>\n          </v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\">\n          <v-text-field\n            v-model=\"birth_date\"\n            :rules=\"dateRules\"\n            :counter='10'\n            label='Data de Nascimento'\n            required\n            :type='date'\n          ></v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\">\n          <v-text-field>\n            v-model='proposal_value'\n            :rules='valueRules'\n            label='Valor da Proposta'\n            required\n          </v-text-field>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\">\n          <v-text-field\n            v-model='document'\n            :rules='valueRules'\n            label='Documento de Indetidade'\n            required\n          ></v-text-field>\n        </v-col>\n\n        <v-col v-for='field in proposalConfigFields' :key='field.id' cols=\"12\" md=\"4\">\n          <v-text-field v-model='form[field.name].value' :label='field.name' :type='fieldType(field.field_type)' outlined></v-text-field>\n        </v-col>\n\n        <v-btn density='default' cols=\"12\" md=\"4\" type='submit'>Submit</v-btn>\n      </v-container>\n    </v-form>\n  </div>\n</template>\n\n<script>\nimport { VueMaskDirective as mask } from 'v-mask';\n\nexport default {\n  directives: {\n    mask,\n  },\n\n  data() {\n    return {\n      name: '',\n      birth_date: '',\n      proposal_value: '',\n      document: '',\n      form: {},\n      proposalConfigFields: [],\n    };\n  },\n\n  created() {\n    this.loadProposalConfigFields();\n  },\n\n  methods: {\n    loadProposalConfigFields() {\n      fetch('http://localhost:8000/api/proposal-configs/')\n        .then(response => response.json())\n        .then(data => {\n          this.proposalConfigFields = data;\n          this.initForm();\n        })\n        .catch(error => {\n          console.error('Error loading proposal config fields:', error);\n        });\n    },\n\n    initForm() {\n      // Inicializar o objeto de formulário com os campos do formulário\n      this.form = {}; // Inicializar como objeto vazio\n\n      for (const field of this.proposalConfigFields) {\n        this.form[field.name] = { value: '' };\n      }\n    },\n    \n    fieldType(fieldType) {\n      if (fieldType === 'char') {\n        return 'text';\n      } else if (fieldType === 'integer') {\n        return 'number';\n      } else {\n        return 'text';\n      }\n    },\n\n    submitForm() {\n      const proposalData = [];\n      for (const field of this.proposalConfigFields) {\n        const value = this.form[field.name]?.value;\n        proposalData.push({ field:field.id, value:value });\n      }\n\n      const payload = {\n        name: this.name,\n        birth_date: this.birth_date,\n        document: this.document,\n        proposal_value: this.proposal_value,\n        dados_proposta: proposalData,\n      };\n\n      fetch('http://localhost:8000/api/proposals/create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      })\n        .then(response => response.json())\n        .then(data => {\n          console.log('Form submitted successfully:', data);\n        })\n        .catch(error => {\n          console.error('Error submitting form:', error);\n        });\n    },\n  },\n};\n</script>\n\n<style>\n.container {\n  max-width: 600px;\n  margin: 0 auto;\n}\n</style>\n"],"mappings":";;;;;;;uBACEA,mBAAA,CAiDM,cAhDJC,YAAA,CA+CSC,iBAAA;IA/CAC,QAAM,EAAAC,cAAA,CAAUC,QAAA,CAAAC,UAAU;;sBACjC,MA6Cc,CA7CdL,YAAA,CA6CcM,sBAAA;wBA5CZ,MAQQ,CARRN,YAAA,CAQQO,gBAAA;QARDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAMe,CANfT,YAAA,CAMeU,uBAAA;sBALJC,KAAA,CAAAC,IAAI;qEAAJD,KAAA,CAAAC,IAAI,GAAAC,MAAA;UACZC,KAAK,EAAEC,IAAA,CAAAC,SAAS;UAChBC,OAAO,EAAE,EAAE;UACZC,KAAK,EAAC,eAAe;UACrBC,QAAQ,EAAR;;;UAIJnB,YAAA,CASQO,gBAAA;QATDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAOgB,CAPhBT,YAAA,CAOgBU,uBAAA;sBANLC,KAAA,CAAAS,UAAU;qEAAVT,KAAA,CAAAS,UAAU,GAAAP,MAAA;UAClBC,KAAK,EAAEC,IAAA,CAAAM,SAAS;UAChBJ,OAAO,EAAE,EAAE;UACZC,KAAK,EAAC,oBAAoB;UAC1BC,QAAQ,EAAR,EAAQ;UACPG,IAAI,EAAEP,IAAA,CAAAQ;;;UAIXvB,YAAA,CAOQO,gBAAA;QAPDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAKe,CALfT,YAAA,CAKeU,uBAAA;4BALD,MAKd,C,iBALc,mFAKd,E;;;;;UAGFV,YAAA,CAOQO,gBAAA;QAPDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC;;0BAClB,MAKgB,CALhBT,YAAA,CAKgBU,uBAAA;sBAJLC,KAAA,CAAAa,QAAQ;qEAARb,KAAA,CAAAa,QAAQ,GAAAX,MAAA;UAChBC,KAAK,EAAEC,IAAA,CAAAU,UAAU;UAClBP,KAAK,EAAC,yBAAyB;UAC/BC,QAAQ,EAAR;;;6BAIJpB,mBAAA,CAEQ2B,SAAA,QAAAC,WAAA,CAFehB,KAAA,CAAAiB,oBAAoB,EAA7BC,KAAK;6BAAnBC,YAAA,CAEQvB,gBAAA;UAFsCwB,GAAG,EAAEF,KAAK,CAACG,EAAE;UAAExB,IAAI,EAAC,IAAI;UAACC,EAAE,EAAC;;4BACxE,MAA+H,CAA/HT,YAAA,CAA+HU,uBAAA;wBAAxGC,KAAA,CAAAsB,IAAI,CAACJ,KAAK,CAACjB,IAAI,EAAEsB,KAAK;6CAAtBvB,KAAA,CAAAsB,IAAI,CAACJ,KAAK,CAACjB,IAAI,EAAEsB,KAAK,GAAArB,MAAA;YAAGK,KAAK,EAAEW,KAAK,CAACjB,IAAI;YAAGU,IAAI,EAAElB,QAAA,CAAA+B,SAAS,CAACN,KAAK,CAACO,UAAU;YAAGC,QAAQ,EAAR;;;;sCAGzGrC,YAAA,CAAsEsC,gBAAA;QAA/DC,OAAO,EAAC,SAAS;QAAC/B,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC,GAAG;QAACa,IAAI,EAAC;;0BAAS,MAAM,C,iBAAN,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}