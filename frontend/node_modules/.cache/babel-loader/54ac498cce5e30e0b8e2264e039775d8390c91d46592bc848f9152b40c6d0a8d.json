{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createElementVNode as _createElementVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  return _openBlock(), _createBlock(_component_v_container, {\n    class: \"bg-surface-variant mb-6\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      align: \"center\",\n      \"no-gutters\": \"\",\n      style: {\n        \"height\": \"150px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col), _createVNode(_component_v_sheet, {\n        class: \"pa-2 ma-2\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_v_form, {\n          onSubmit: _withModifiers($options.submitForm, [\"prevent\"])\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_container, null, {\n            default: _withCtx(() => [_createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.name,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n                rules: _ctx.nameRules,\n                counter: 10,\n                label: \"Nome Completo\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.birth_date,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.birth_date = $event),\n                rules: _ctx.dateRules,\n                counter: 10,\n                label: \"Data de Nascimento\",\n                required: \"\",\n                type: _ctx.date\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\", \"type\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.proposal_value,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.proposal_value = $event),\n                rules: _ctx.valueRules,\n                label: \"Valor da Proposta\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.document,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.document = $event),\n                rules: _ctx.valueRules,\n                label: \"Documento de Indetidade\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n              _: 1 /* STABLE */\n            }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.proposalConfigFields, field => {\n              return _openBlock(), _createBlock(_component_v_col, {\n                key: field.id,\n                cols: \"12\",\n                md: \"4\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                  modelValue: $data.form[field.name].value,\n                  \"onUpdate:modelValue\": $event => $data.form[field.name].value = $event,\n                  label: field.name,\n                  type: $options.fieldType(field.field_type),\n                  outlined: \"\"\n                }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"label\", \"type\"])]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */);\n            }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_v_btn, {\n              density: \"default\",\n              cols: \"12\",\n              md: \"4\",\n              type: \"submit\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(\" Submit \")]),\n              _: 1 /* STABLE */\n            })]),\n\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onSubmit\"])])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","class","_createVNode","_component_v_row","align","style","_component_v_col","_component_v_sheet","_createElementVNode","_component_v_form","onSubmit","_withModifiers","$options","submitForm","cols","md","_component_v_text_field","$data","name","$event","rules","_ctx","nameRules","counter","label","required","birth_date","dateRules","type","date","proposal_value","valueRules","document","_createElementBlock","_Fragment","_renderList","proposalConfigFields","field","key","id","form","value","fieldType","field_type","outlined","_component_v_btn","density"],"sources":["/var/project_lfg/frontend/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <v-container class=\"bg-surface-variant mb-6\">\n    <v-row align=\"center\" no-gutters style=\"height: 150px\">\n      <v-col></v-col>\n      <v-sheet class=\"pa-2 ma-2\">\n        <div>\n          <v-form @submit.prevent=\"submitForm\">\n            <v-container>\n              <v-col cols=\"12\" md=\"4\">\n                <v-text-field\n                  v-model=\"name\"\n                  :rules=\"nameRules\"\n                  :counter=\"10\"\n                  label=\"Nome Completo\"\n                  required\n                >\n                </v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\" md=\"4\">\n                <v-text-field\n                  v-model=\"birth_date\"\n                  :rules=\"dateRules\"\n                  :counter=\"10\"\n                  label=\"Data de Nascimento\"\n                  required\n                  :type=\"date\"\n                ></v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\" md=\"4\">\n                <v-text-field\n                  v-model=\"proposal_value\"\n                  :rules=\"valueRules\"\n                  label=\"Valor da Proposta\"\n                  required\n                >\n                </v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\" md=\"4\">\n                <v-text-field\n                  v-model=\"document\"\n                  :rules=\"valueRules\"\n                  label=\"Documento de Indetidade\"\n                  required\n                >\n                </v-text-field>\n              </v-col>\n\n              <v-col\n                v-for=\"field in proposalConfigFields\"\n                :key=\"field.id\"\n                cols=\"12\"\n                md=\"4\"\n              >\n                <v-text-field\n                  v-model=\"form[field.name].value\"\n                  :label=\"field.name\"\n                  :type=\"fieldType(field.field_type)\"\n                  outlined\n                >\n                </v-text-field>\n              </v-col>\n\n              <v-btn density=\"default\" cols=\"12\" md=\"4\" type=\"submit\">\n                Submit\n              </v-btn>\n            </v-container>\n          </v-form>\n        </div>\n      </v-sheet>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { VueMaskDirective as mask } from \"v-mask\";\n\nexport default {\n  directives: {\n    mask,\n  },\n\n  data() {\n    return {\n      name: \"\",\n      birth_date: \"\",\n      proposal_value: \"\",\n      document: \"\",\n      form: {},\n      proposalConfigFields: [],\n    };\n  },\n\n  created() {\n    this.loadProposalConfigFields();\n  },\n\n  methods: {\n    loadProposalConfigFields() {\n      fetch(\"http://localhost:8000/api/proposal-configs/\")\n        .then((response) => response.json())\n        .then((data) => {\n          this.proposalConfigFields = data;\n          this.initForm();\n        })\n        .catch((error) => {\n          console.error(\"Error loading proposal config fields:\", error);\n        });\n    },\n\n    initForm() {\n      // Inicializar o objeto de formulário com os campos do formulário\n      this.form = {}; // Inicializar como objeto vazio\n\n      for (const field of this.proposalConfigFields) {\n        this.form[field.name] = { value: \"\" };\n      }\n    },\n    fieldType(fieldType) {\n      if (fieldType === \"char\") {\n        return \"text\";\n      } else if (fieldType === \"integer\") {\n        return \"number\";\n      } else {\n        return \"text\";\n      }\n    },\n\n    submitForm() {\n      const proposalData = [];\n      for (const field of this.proposalConfigFields) {\n        const value = this.form[field.name]?.value;\n        proposalData.push({ field: field.id, value: value });\n      }\n\n      const payload = {\n        name: this.name,\n        birth_date: this.birth_date,\n        document: this.document,\n        proposal_value: this.proposal_value,\n        dados_proposta: proposalData,\n      };\n\n      fetch(\"http://localhost:8000/api/proposals/create\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Form submitted successfully:\", data);\n        })\n        .catch((error) => {\n          console.error(\"Error submitting form:\", error);\n        });\n    },\n  },\n};\n</script>\n\n<style>\n.container {\n  max-width: 600px;\n  margin: 0 auto;\n}\n</style>\n"],"mappings":";;;;;;;;;uBACEA,YAAA,CAwEcC,sBAAA;IAxEDC,KAAK,EAAC;EAAyB;sBAC1C,MAsEQ,CAtERC,YAAA,CAsEQC,gBAAA;MAtEDC,KAAK,EAAC,QAAQ;MAAC,YAAU,EAAV,EAAU;MAACC,KAAqB,EAArB;QAAA;MAAA;;wBAC/B,MAAe,CAAfH,YAAA,CAAeI,gBAAA,GACfJ,YAAA,CAmEUK,kBAAA;QAnEDN,KAAK,EAAC;MAAW;0BACxB,MAiEM,CAjENO,mBAAA,CAiEM,cAhEJN,YAAA,CA+DSO,iBAAA;UA/DAC,QAAM,EAAAC,cAAA,CAAUC,QAAA,CAAAC,UAAU;;4BACjC,MA6Dc,CA7DdX,YAAA,CA6DcF,sBAAA;8BA5DZ,MASQ,CATRE,YAAA,CASQI,gBAAA;cATDQ,IAAI,EAAC,IAAI;cAACC,EAAE,EAAC;;gCAClB,MAOe,CAPfb,YAAA,CAOec,uBAAA;4BANJC,KAAA,CAAAC,IAAI;2EAAJD,KAAA,CAAAC,IAAI,GAAAC,MAAA;gBACZC,KAAK,EAAEC,IAAA,CAAAC,SAAS;gBAChBC,OAAO,EAAE,EAAE;gBACZC,KAAK,EAAC,eAAe;gBACrBC,QAAQ,EAAR;;;gBAKJvB,YAAA,CASQI,gBAAA;cATDQ,IAAI,EAAC,IAAI;cAACC,EAAE,EAAC;;gCAClB,MAOgB,CAPhBb,YAAA,CAOgBc,uBAAA;4BANLC,KAAA,CAAAS,UAAU;2EAAVT,KAAA,CAAAS,UAAU,GAAAP,MAAA;gBAClBC,KAAK,EAAEC,IAAA,CAAAM,SAAS;gBAChBJ,OAAO,EAAE,EAAE;gBACZC,KAAK,EAAC,oBAAoB;gBAC1BC,QAAQ,EAAR,EAAQ;gBACPG,IAAI,EAAEP,IAAA,CAAAQ;;;gBAIX3B,YAAA,CAQQI,gBAAA;cARDQ,IAAI,EAAC,IAAI;cAACC,EAAE,EAAC;;gCAClB,MAMe,CANfb,YAAA,CAMec,uBAAA;4BALJC,KAAA,CAAAa,cAAc;2EAAdb,KAAA,CAAAa,cAAc,GAAAX,MAAA;gBACtBC,KAAK,EAAEC,IAAA,CAAAU,UAAU;gBAClBP,KAAK,EAAC,mBAAmB;gBACzBC,QAAQ,EAAR;;;gBAKJvB,YAAA,CAQQI,gBAAA;cARDQ,IAAI,EAAC,IAAI;cAACC,EAAE,EAAC;;gCAClB,MAMe,CANfb,YAAA,CAMec,uBAAA;4BALJC,KAAA,CAAAe,QAAQ;2EAARf,KAAA,CAAAe,QAAQ,GAAAb,MAAA;gBAChBC,KAAK,EAAEC,IAAA,CAAAU,UAAU;gBAClBP,KAAK,EAAC,yBAAyB;gBAC/BC,QAAQ,EAAR;;;mCAKJQ,mBAAA,CAaQC,SAAA,QAAAC,WAAA,CAZUlB,KAAA,CAAAmB,oBAAoB,EAA7BC,KAAK;mCADdtC,YAAA,CAaQO,gBAAA;gBAXLgC,GAAG,EAAED,KAAK,CAACE,EAAE;gBACdzB,IAAI,EAAC,IAAI;gBACTC,EAAE,EAAC;;kCAEH,MAMe,CANfb,YAAA,CAMec,uBAAA;8BALJC,KAAA,CAAAuB,IAAI,CAACH,KAAK,CAACnB,IAAI,EAAEuB,KAAK;mDAAtBxB,KAAA,CAAAuB,IAAI,CAACH,KAAK,CAACnB,IAAI,EAAEuB,KAAK,GAAAtB,MAAA;kBAC9BK,KAAK,EAAEa,KAAK,CAACnB,IAAI;kBACjBU,IAAI,EAAEhB,QAAA,CAAA8B,SAAS,CAACL,KAAK,CAACM,UAAU;kBACjCC,QAAQ,EAAR;;;;4CAKJ1C,YAAA,CAEQ2C,gBAAA;cAFDC,OAAO,EAAC,SAAS;cAAChC,IAAI,EAAC,IAAI;cAACC,EAAE,EAAC,GAAG;cAACa,IAAI,EAAC;;gCAAS,MAExD,C,iBAFwD,UAExD,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}